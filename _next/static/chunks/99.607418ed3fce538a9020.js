(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{EygZ:function(t,e,n){"use strict";n.r(e);var r=n("q1tI"),a=n.n(r),c=n("vOnD"),o=n("1O+K"),u=n.n(o),i=n("lNlg"),l=n("1OyB"),s=n("JX7q"),f=n("Ji7U"),p=n("md7G"),h=n("foSv"),y=n("rePB");function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var a=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var b=function(t){Object(f.a)(n,t);var e=d(n);function n(t,r){var a;return Object(l.a)(this,n),a=e.call(this,t,r.x,r.y,"",{fontFamily:"source-han-sans-japanese, sans-serif",fontSize:"62px",fontStyle:"bold"}),Object(y.a)(Object(s.a)(a),"correctNum",119),a.setOrigin(.5,0),t.add.existing(Object(s.a)(a)),a}return n}(u.a.GameObjects.Text),m=n("vuIU"),v=[{key:"phoneButton1",path:"/rescue_button_1.png",column:1,row:1,input:"1"},{key:"phoneButton2",path:"/rescue_button_2.png",column:1,row:2,input:"2"},{key:"phoneButton3",path:"/rescue_button_3.png",column:1,row:3,input:"3"},{key:"phoneButton4",path:"/rescue_button_4.png",column:2,row:1,input:"4"},{key:"phoneButton5",path:"/rescue_button_5.png",column:2,row:2,input:"5"},{key:"phoneButton6",path:"/rescue_button_6.png",column:2,row:3,input:"6"},{key:"phoneButton7",path:"/rescue_button_7.png",column:3,row:1,input:"7"},{key:"phoneButton8",path:"/rescue_button_8.png",column:3,row:2,input:"8"},{key:"phoneButton9",path:"/rescue_button_9.png",column:3,row:3,input:"9"},{key:"phoneButton10",path:"/rescue_button_asterisk.png",column:4,row:1,input:"*"},{key:"phoneButton11",path:"/rescue_button_0.png",column:4,row:2,input:"0"},{key:"phoneButton12",path:"/rescue_button_sharp.png",column:4,row:3,input:"#"},{key:"phoneButton13",path:"/rescue_button_call.png",column:5,row:2,input:"call"},{key:"phoneButton14",path:"/rescue_button_cancel.png",column:5,row:3,input:"cancel"}],g=n("WIYo");function O(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var a=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var w=function(t){Object(f.a)(n,t);var e=O(n);function n(t){var r;return Object(l.a)(this,n),(r=e.call(this,t.scene,t.pos.x,t.pos.y,t.key)).scale=.5,r.setOrigin(.5,.5),new g.a(t.scene,Object(s.a)(r)).on("click",t.onClick),r}return n}(u.a.GameObjects.Image),j=n("dGgI");function B(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var a=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var k=function(t){Object(f.a)(n,t);var e=B(n);function n(t,r){var a;return Object(l.a)(this,n),(a=e.call(this,t,0,0,r)).init(),a.setOrigin(.5,.55),a}return Object(m.a)(n,[{key:"tween",value:function(t,e){var n=this,r=j.a.phaserCallButtonEffects;return t.tweens.add({targets:this,alpha:.5,scale:.6,ease:"Linear",duration:r,onComplete:function(t){t.elapsed>=r&&e(),n.alpha=0,n.init()}})}},{key:"init",value:function(){this.scale=0,this.alpha=1}}]),n}(u.a.GameObjects.Image);function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var a=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var S=function(t){Object(f.a)(n,t);var e=_(n);function n(t,r){var a;return Object(l.a)(this,n),(a=e.call(this,t,0,0,r)).init(),a.setOrigin(.5,.55),a}return Object(m.a)(n,[{key:"tween",value:function(t){this.scale=.5,this.alpha=1,t.tweens.add({targets:this,ease:"Linear",duration:j.a.phaserCallButtonEffects,alpha:0})}},{key:"init",value:function(){this.scale=0,this.alpha=0}}]),n}(u.a.GameObjects.Image);function R(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){u=!0,c=t},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw c}}}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x=function(){function t(){Object(l.a)(this,t),Object(y.a)(this,"callButtonEffectScaleUpKey","callButtonEffectScaleUpKey"),Object(y.a)(this,"callButtonEffectPath","/rescue_animation1.png"),Object(y.a)(this,"callButtonEffectBlurKey","callButtonEffectBlurKey"),Object(y.a)(this,"callButtonEffectBlurPath","/rescue_animation2.png"),Object(y.a)(this,"effectScaleTweenList",[])}return Object(m.a)(t,[{key:"load",value:function(t){var e,n=R(v);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.load.image(r.key,r.path),this.effectScaleTweenList.push(null)}}catch(a){n.e(a)}finally{n.f()}t.load.image(this.callButtonEffectScaleUpKey,this.callButtonEffectPath),t.load.image(this.callButtonEffectBlurKey,this.callButtonEffectBlurPath)}},{key:"add",value:function(t,e,n){var r=this;return v.map((function(a,c){var o=new S(t,r.callButtonEffectBlurKey),u=new k(t,r.callButtonEffectScaleUpKey),i=new w({scene:t,key:a.key,pos:{x:0,y:0},onClick:function(){n(a),r.effectScaleTweenList[c]&&r.effectScaleTweenList[c].elapsed<j.a.phaserCallButtonEffects&&r.effectScaleTweenList[c].complete();var e=u.tween(t,(function(){o.tween(t)}));r.effectScaleTweenList=r.effectScaleTweenList.map((function(t,n){return n===c?t=e:t}))}}),l=t.add.container(0+(a.row-1)*e,0+(a.column-1)*e);return l.add(i),l.add(u),l.add(o),l}))}}]),t}(),P=a.a.createElement,C=Object(c.c)(i.a).withConfig({displayName:"Phone__PhaserWrapper",componentId:"qs3y98-0"})(["canvas{width:100%;border-radius:10px;user-select:none;}"]);e.default=Object(r.memo)((function(t){var e=t.onCall,n=function(){var t=new x;i({width:380,height:676,type:o.CANVAS,scene:{init:function(){this.cameras.main.setBackgroundColor("#2D34A1");var t=this.game.input.mouse;t&&(t.preventDefaultWheel=!1);var e=this.game.input.touch;e&&(e.capture=!1)},preload:function(){this.load.audio("callSound","/call.mp3"),this.load.audio("incorrectSound","/batu.mp3"),t.load(this)},create:function(){var n=this,r=new b(this,{x:190,y:36}),a=[],c=function(){return r.setText(a.join(""))};c();var o=this.add.container();o.add(t.add(this,106,(function(t){switch(t.input){case"call":var r=a.join("");-1!==["118","119","110"].indexOf(r)?(e(r),n.sound.add("callSound").play(),n.input.enabled=!1):(a.splice(0,a.length),c(),n.sound.add("incorrectSound").play());break;case"cancel":a.pop(),c();break;default:if(a.length>=3)return;a.push(t.input),c()}})));var u=o.getBounds(),i=u.width,l=u.height;o.setPosition(53+(380-i)/2,53+(676-l)/2+60)}}})},c=Object(r.useState)(null),u=c[0],i=c[1];return Object(r.useEffect)((function(){setTimeout(n,j.a.transitionAnimation)}),[]),P(a.a.Fragment,null,P(C,{game:u}))}))}}]);